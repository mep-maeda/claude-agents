# 実行例（Examples）

このディレクトリには、仕様変更支援エージェントの実行例が含まれています。

## 📁 ディレクトリ構成

```
examples/
├── README.md                          # このファイル
├── example-01-simple-change/          # シンプルなUI変更
│   ├── prompt.md                      # 使用したプロンプト
│   ├── analysis-result.json           # 分析結果
│   └── SPEC_CHANGES.html              # 生成された変更仕様書
│
└── example-02-complex-change/         # 複雑な機能追加
    └── prompt.md                      # 使用したプロンプトと解説
```

---

## 実行例一覧

### Example 01: シンプルなUI変更

**変更内容**: エラーダイアログにエラーコードを追加表示

**難易度**: ⭐ 初級

**影響範囲**: 3ファイル

**リスク**: 中リスク

**工数**: small（1-3日）

**学習ポイント**:
- 基本的なプロンプトの書き方
- 後方互換性の維持方法
- シンプルな変更の扱い方

**詳細**: [example-01-simple-change/](./example-01-simple-change/)

---

### Example 02: 複雑な機能追加

**変更内容**: ダウンロード進捗ダイアログに残り時間のリアルタイム更新機能を追加

**難易度**: ⭐⭐⭐ 上級

**影響範囲**: 5ファイル（設定ファイル含む）

**リスク**: 高リスク

**工数**: medium（1-2週間）

**学習ポイント**:
- 複雑な機能のプロンプトの書き方
- UI/Backendの連携
- リソース管理（タイマー、イベントハンドラ）
- 高リスク変更の扱い方

**詳細**: [example-02-complex-change/](./example-02-complex-change/)

---

## 使い方

### 1. サンプルを確認

各サンプルの `prompt.md` を開いて、プロンプトの書き方を確認してください。

### 2. プロンプトをコピー

`prompt.md` の内容をコピーして、自分のプロジェクトに合わせて変更してください。

### 3. 実行

Claude Code にプロンプトを貼り付けて実行してください。

### 4. 成果物を確認

生成された `SPEC_CHANGES.html` や `analysis-result.json` を確認してください。

---

## 比較表

| 項目 | Example 01 | Example 02 |
|------|-----------|-----------|
| **変更内容** | エラーコード表示追加 | 残り時間リアルタイム更新 |
| **難易度** | ⭐ 初級 | ⭐⭐⭐ 上級 |
| **影響ファイル数** | 3ファイル | 5ファイル |
| **新規ファイル** | ErrorCodes.cs | CarDownloadTimeInfo.cs |
| **設定ファイル変更** | なし | MDS_PTE.ini |
| **リスクレベル** | 中 | 高 |
| **工数** | 1-3日 | 1-2週間 |
| **UI変更** | 表示形式のみ | 表示ロジック全体 |
| **Backend変更** | なし | あり（時間計測） |
| **タイマー使用** | なし | あり |
| **リソース管理** | 不要 | 必須 |
| **後方互換性対策** | オーバーロード | 複数フォールバック |
| **テストケース数** | 10件 | 16件 |
| **承認ポイント数** | 4個所 | 4個所 |

---

## どちらを参考にすべきか？

### Example 01 がおすすめの場合

- 初めて仕様変更支援エージェントを使う
- シンプルなUI変更
- 影響範囲が限定的（1-3ファイル）
- 後方互換性の維持が主な課題
- 短期間で完了したい（1-3日）

### Example 02 がおすすめの場合

- エージェントの使い方に慣れている
- 複雑な機能追加
- 複数ファイルにまたがる変更
- UI/Backendの連携が必要
- リソース管理（タイマー、イベント）が必要
- 高リスクな変更

---

## カスタマイズのヒント

### プロンプトのカスタマイズ

両方のサンプルとも、以下の部分をカスタマイズできます：

1. **変更要求**
   - あなたのプロジェクトの具体的な変更内容に置き換え

2. **ソースコードの場所**
   - あなたのプロジェクトのファイルパスに置き換え

3. **出力ファイルの保存場所**
   - 好みの保存先に変更

4. **実施手順**
   - 承認ポイントの数を調整（小規模変更なら2個所に減らすなど）

5. **注意事項**
   - プロジェクト固有の制約を追加

### 承認ポイントの調整

**標準（4個所）**:
1. 分析結果の確認
2. 実装計画の確認
3. 変更仕様書の確認
4. テスト仕様書の確認

**簡易版（2個所）**:
1. 分析結果と計画の確認
2. 全成果物の確認

**詳細版（5個所以上）**:
1. 変更要求の確認
2. 分析結果の確認
3. 実装計画の確認
4. 変更仕様書の確認
5. 実装完了後の確認
6. テスト仕様書の確認

---

## よくある質問

### Q1: Example 01 と Example 02 の中間的な変更はどうする？

**A**: Example 01 のプロンプトをベースに、以下を追加してください：
- 影響ファイル数を正確に記載
- リスク評価を明示（中リスクか高リスクか）
- リソース管理が必要な場合は、注意事項に記載

### Q2: 自分のプロジェクトに合わせてカスタマイズできる？

**A**: はい、できます。プロンプトの以下の部分を変更してください：
- 変更要求の内容
- ソースコードのパス
- 出力ファイルの保存先
- プロジェクト固有の制約や注意事項

### Q3: サンプルの成果物（SPEC_CHANGES.html など）は編集できる？

**A**: はい、通常のHTMLファイルなので、テキストエディタやブラウザで編集できます。
生成後にカスタマイズして、プロジェクトのテンプレートとして使用することもできます。

### Q4: フローチャートのサンプルはどこ？

**A**: Example 02 の実際のフローチャートは、`.claude/agents/spec-doc-generator/` フォルダの
サンプルPDF（変更仕様書サンプル.pdf）を参照してください。

### Q5: もっと複雑な変更の例はある？

**A**: 現在は2つのサンプルのみですが、以下のような変更も可能です：
- 複数の機能を同時に追加
- データベーススキーマの変更
- APIの追加・変更
- セキュリティ機能の追加

これらの例については、README.md のトラブルシューティングや
spec-change-workflow-guide.md の応用例を参照してください。

---

## 次のステップ

### 1. サンプルを試す

まずは Example 01 から始めて、エージェントの動作を確認してください。

### 2. 自分のプロジェクトで実行

サンプルのプロンプトをカスタマイズして、実際のプロジェクトで実行してください。

### 3. テンプレート化

よく使うプロンプトをテンプレートとして保存し、再利用してください。

### 4. チームで共有

成功したプロンプトや成果物をチームで共有し、ベストプラクティスを蓄積してください。

---

## フィードバック

これらのサンプルについて、改善点や追加してほしいサンプルがあれば、
プロジェクトのREADMEに記載されている方法でフィードバックをお願いします。

---

**Happy Coding! 🚀**
